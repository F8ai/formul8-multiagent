{
  "routing": {
    "strategy": "langchain_semantic",
    "fallback": "keyword_matching",
    "timeout": 10000,
    "retries": 2,
    "confidence_threshold": 0.8,
    "strategies": {
      "langchain_semantic": {
        "enabled": true,
        "model": "meta-llama/llama-3.1-405b-instruct",
        "temperature": 0.0,
        "maxTokens": 10,
        "prompt_template": "routing_prompt"
      },
      "keyword_matching": {
        "enabled": true,
        "case_sensitive": false,
        "exact_match": false,
        "weighted_keywords": true
      },
      "embedding_similarity": {
        "enabled": false,
        "model": "text-embedding-ada-002",
        "similarity_threshold": 0.85,
        "top_k": 3
      }
    },
    "prompts": {
      "routing_prompt": "You are a routing assistant. Route this cannabis industry question to ONE agent.\n\nAGENTS (choose ONE):\ncompliance - Laws, regulations, licensing, SOPs, \"can I\", \"am I allowed\", legal requirements\noperations - Production, equipment, facility management, troubleshooting, \"how do I\", manufacturing\nmarketing - Branding, advertising, promotions, social media, customer acquisition\nformulation - Recipe development, dosage calculations, product design, ingredients\nscience - Cannabinoids, terpenes, COA interpretation, research, lab analysis\n\nEXAMPLES:\nQ: \"Can you make me a compliant SOP for Cannabis Transport in New Jersey?\"\nA: compliance\n\nQ: \"How do I troubleshoot my CO2 extraction system?\"\nA: operations\n\nQ: \"What are the best social media strategies for cannabis brands?\"\nA: marketing\n\nQ: \"How do I calculate THC dosage for gummy formulations?\"\nA: formulation\n\nQ: \"What terpenes are found in this COA?\"\nA: science\n\nNow route this question:\n{message}\n\nAgent:"
    },
    "agent_priorities": {
      "f8_agent": 1,
      "compliance": 2,
      "formulation": 2,
      "science": 2,
      "operations": 3,
      "marketing": 3,
      "sourcing": 3,
      "patent": 3,
      "spectra": 3,
      "customer_success": 3,
      "f8_slackbot": 4,
      "mcr": 4,
      "ad": 4
    }
  }
}
