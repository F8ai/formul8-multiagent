{
  "routing": {
    "strategy": "langchain_semantic",
    "fallback": "keyword_matching",
    "timeout": 10000,
    "retries": 2,
    "confidence_threshold": 0.8,
    "strategies": {
      "langchain_semantic": {
        "enabled": true,
        "model": "meta-llama/llama-3.1-8b-instruct",
        "temperature": 0.3,
        "maxTokens": 50,
        "prompt_template": "routing_prompt"
      },
      "keyword_matching": {
        "enabled": true,
        "case_sensitive": false,
        "exact_match": false,
        "weighted_keywords": true
      },
      "embedding_similarity": {
        "enabled": false,
        "model": "text-embedding-ada-002",
        "similarity_threshold": 0.85,
        "top_k": 3
      }
    },
    "prompts": {
      "routing_prompt": "You are an expert routing system for the Formul8 cannabis industry AI platform. Analyze the user's message and route it to the MOST SPECIFIC specialized agent that can best answer their question.\n\n## Available Specialized Agents:\n{agents_list}\n\n## Routing Rules:\n1. Route to the MOST SPECIFIC agent based on keywords and topic\n2. Use 'operations' for facility management, cultivation practices, inventory management\n3. Use 'marketing' for branding, social media, advertising, customer acquisition\n4. Use 'formulation' for recipes, dosage calculations, extraction methods\n5. Use 'compliance' ONLY for regulations, licenses, legal requirements, audits\n6. Use 'science' for cannabinoids, terpenes, lab testing, research\n7. Use 'f8_agent' ONLY for general questions, multi-topic questions, or when no specialized agent matches\n\n## User Message:\n{message}\n\n## Your Task:\nAnalyze the message above and respond with ONLY the agent ID (e.g., 'operations', 'marketing', 'formulation', etc.).\nDo not include any explanation, just the agent ID."
    },
    "agent_priorities": {
      "f8_agent": 1,
      "compliance": 2,
      "formulation": 2,
      "science": 2,
      "operations": 3,
      "marketing": 3,
      "sourcing": 3,
      "patent": 3,
      "spectra": 3,
      "customer_success": 3,
      "f8_slackbot": 4,
      "mcr": 4,
      "ad": 4
    }
  }
}