<testsuites id="" name="" tests="9" failures="2" skipped="0" errors="0" time="10.163378999999999">
<testsuite name="chat-formatting.spec.js" timestamp="2025-10-23T17:48:49.794Z" hostname="chromium" tests="9" failures="2" skipped="0" time="32.291" errors="0">
<testcase name="Chat Message Formatting › should display main chat interface" classname="chat-formatting.spec.js" time="6.665">
<failure message="chat-formatting.spec.js:10:7 should display main chat interface" type="FAILURE">
<![CDATA[  [chromium] › chat-formatting.spec.js:10:7 › Chat Message Formatting › should display main chat interface 

    Error: expect(locator).toBeVisible() failed

    Locator:  locator('#messagesList')
    Expected: visible
    Received: hidden
    Timeout:  5000ms

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('#messagesList')
        9 × locator resolved to <div id="messagesList"></div>
          - unexpected value "hidden"


      12 |     await expect(page.locator('#chatInput')).toBeVisible();
      13 |     await expect(page.locator('#sendButton')).toBeVisible();
    > 14 |     await expect(page.locator('#messagesList')).toBeVisible();
         |                                                 ^
      15 |     
      16 |     // Take screenshot of initial state
      17 |     await page.screenshot({ 
        at /Users/danielmcshan/GitHub/formul8-multiagent/tests/chat-formatting.spec.js:14:49

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../test-results/chat-formatting-Chat-Messa-cf6f0-display-main-chat-interface-chromium/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../test-results/chat-formatting-Chat-Messa-cf6f0-display-main-chat-interface-chromium/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../test-results/chat-formatting-Chat-Messa-cf6f0-display-main-chat-interface-chromium/error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/chat-formatting-Chat-Messa-cf6f0-display-main-chat-interface-chromium/test-failed-1.png]]

[[ATTACHMENT|test-results/chat-formatting-Chat-Messa-cf6f0-display-main-chat-interface-chromium/video.webm]]

[[ATTACHMENT|test-results/chat-formatting-Chat-Messa-cf6f0-display-main-chat-interface-chromium/error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Chat Message Formatting › should format assistant messages with metadata badges" classname="chat-formatting.spec.js" time="3.636">
<system-out>
<![CDATA[Found 0 metadata badges
]]>
</system-out>
</testcase>
<testcase name="Chat Message Formatting › should render clickable links in messages" classname="chat-formatting.spec.js" time="3.633">
<system-out>
<![CDATA[Found 0 clickable links
]]>
</system-out>
</testcase>
<testcase name="Chat Message Formatting › should display upgrade callouts with proper styling" classname="chat-formatting.spec.js" time="3.625">
<system-out>
<![CDATA[Found 0 upgrade callouts
]]>
</system-out>
</testcase>
<testcase name="Chat Message Formatting › should properly separate main content from metadata" classname="chat-formatting.spec.js" time="3.634">
<system-out>
<![CDATA[Has main content: false
Has metadata: false
]]>
</system-out>
</testcase>
<testcase name="Chat Message Formatting › should be mobile responsive" classname="chat-formatting.spec.js" time="2.239">
</testcase>
<testcase name="Chat Message Formatting › should have proper CSS styling applied" classname="chat-formatting.spec.js" time="2.235">
</testcase>
<testcase name="Chat Message Formatting › should escape HTML in user messages" classname="chat-formatting.spec.js" time="1.221">
<failure message="chat-formatting.spec.js:258:7 should escape HTML in user messages" type="FAILURE">
<![CDATA[  [chromium] › chat-formatting.spec.js:258:7 › Chat Message Formatting › should escape HTML in user messages 

    Error: expect(received).toContain(expected) // indexOf

    Expected substring: "<script>"
    Received string:    "alert(\"XSS\")Bold text"

      271 |     
      272 |     // The HTML should be escaped (visible as text, not executed)
    > 273 |     expect(messageText).toContain('<script>');
          |                         ^
      274 |     expect(messageText).toContain('</script>');
      275 |     
      276 |     console.log('✓ XSS protection working - HTML is escaped');
        at /Users/danielmcshan/GitHub/formul8-multiagent/tests/chat-formatting.spec.js:273:25

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../test-results/chat-formatting-Chat-Messa-11527-scape-HTML-in-user-messages-chromium/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ../test-results/chat-formatting-Chat-Messa-11527-scape-HTML-in-user-messages-chromium/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../test-results/chat-formatting-Chat-Messa-11527-scape-HTML-in-user-messages-chromium/error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|test-results/chat-formatting-Chat-Messa-11527-scape-HTML-in-user-messages-chromium/test-failed-1.png]]

[[ATTACHMENT|test-results/chat-formatting-Chat-Messa-11527-scape-HTML-in-user-messages-chromium/video.webm]]

[[ATTACHMENT|test-results/chat-formatting-Chat-Messa-11527-scape-HTML-in-user-messages-chromium/error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Chat Formatting Visual Regression › visual comparison - complete chat flow" classname="chat-formatting.spec.js" time="5.403">
<system-out>
<![CDATA[✓ Visual regression screenshots captured
]]>
</system-out>
</testcase>
</testsuite>
</testsuites>